---
const stream = new TransformStream();
const writer = stream.writable.getWriter();
const encoder = new TextEncoder();

setInterval(() => {
  writer.write(encoder.encode(`data: ${Date.now()}\n\n`));
}, 1000);

return new Response(stream.readable, {
  status: 200,
  headers: {
    "Content-Type": "text/event-stream",
    Connection: "keep-alive",
    "Cache-Control": "no-cache",
  },
});
---
